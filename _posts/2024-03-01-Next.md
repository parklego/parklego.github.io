---
title: Next.js
author: parklego
date: 2024-03-01
category: til
layout: post
---

## Next.js를 사용해야 하는 이유

1. 폴더를 사용하여 페이지를 간단하게 만들 수 있다.
   - 리액트의 경우, `react-router-dom`을 사용하여 하나하나 만들어줘야 함
2. 자체 api를 생성할 수 있다.
3. SSR과 CSR을 함께 사용 할 수 있다.
4. 최적화가 잘 되어 있다.
   - 코드 분할, 이미지 최적화 등 추가적인 작업을 안해도 되서 편하다.
5. 리액트 팀에서도 next.js 프레임워크를 사용하기를 권장한다.

<br/>

> 런타임 에러

```
(node:29569) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
```

<br/>

> 해결책

nvm을 사용하여, node 18버전으로 다운그레이드

## 라우팅

1. app폴더 하위 폴더에 라우팅하고 싶은 페이지명을 폴더명으로 만든다.
2. 그 폴더에는 page.js로 파일을 만든다.
   - 동적라우팅의 경우 [id] 와 같이 대괄호 안에 넣어준다.
   - 그룹화 하고 싶은 경우 (auth) 와 같이 소괄호 안에 넣어준다. 이때 라우팅에서 그룹화 부분은 무시된다.

## 이미지

이미지 가져오는 방법은 3가지가 있다.

1. 폴더안에 파일의 경로를 넣는 경우
   - 너비와 높이를 지정해야한다.
2. 폴더안에 파일을 import 해서 넣는 경우
   - 너비와 높이를 지정하지 않아도 된다.
3. 외부 경로를 넣는 경우
   - 너비와 높이를 지정해야한다.
   - next.js에서는 기본적으로 외부 이미지를 허용하지 않는다.
   - 사용하려면 해당 이미지의 도메인을 적어주어야 한다.

```javascript
// next.config.js

const nextConfig = {
  images: {
    domains: ["example.com"],
  },
};

export default nextConfig;
```
